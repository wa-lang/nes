<!DOCTYPE html>

<title>myapp</title>

<canvas id="nes" tabindex="0"></canvas>

<script type="text/javascript" src="./nes.js"></script>

<script>
  let app = new WaApp();
  app.init().then((result) => {
    app.main();

    let canvas = document.getElementById("nes");
    canvas.width = 256*3;
    canvas.height = 240*3;
    canvas.id = 0;  //!!!!!

    let ctx = canvas.getContext("2d");
    ctx.rect(20,20,150,100);
    ctx.fillStyle="green";
    ctx.fill();

    canvas.addEventListener("keydown", (event) => {
      console.log(`keydown: key=${event.keyCode}`)
    }, true);

    canvas.addEventListener("keyup", (event) => {
      console.log(`keyup: key=${event.keyCode}`)
    }, true);


    app.SayHello();

    // myapp.NES_InitGame("NES", romBytes)

    // NES_SetButtons1
    // NES_SetButtons2
    // NES_StepSeconds

    // NES_GetBuffer_Pix
    // NES_GetBuffer_Stride
  })
</script>

<!--
-->